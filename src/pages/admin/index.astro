<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="https://unpkg.com/@staticcms/app@^2.0.0/dist/main.css" />
    <title>cs.1og.de - Content Manager</title>
</head>
<body>
<script src="https://unpkg.com/@staticcms/app@^2.0.0/dist/static-cms-app.js" is:inline></script>
<script is:inline>
  const getBasicCollection = (slug, name) => {
    return {
      name,
      label: name,
      folder: `src/content/docs/de/${slug}`,
      create: true,
      slug: '{{slug}}',
      fields: pageFieldsDefault
    }
  }
  const pageFieldsDefault = [
    {
      label: 'Title',
      name: 'title',
      widget: 'string'
    },
    {
      label: 'Description',
      name: 'description',
      widget: 'string'
    },
    {
      label: 'Body',
      name: 'body',
      widget: 'markdown'
    }
  ]

  window.CMS.init({
    config: {
      name: 'Static CMS',
      backend: {
        name: 'git-gateway',
        repo: 'defkil/sheatsheets'
      },
      local_backend: true,
      media_folder: '/public/media',
      public_folder: '/public',
      collections: [
        getBasicCollection('base', 'Base'),
        getBasicCollection('uml', 'UML'),
        getBasicCollection('pm', 'Project Management')
      ]
    }
  })
</script>
</body>
</html>
